<!DOCTYPE html>
<html lang="en" class="ba">
  <head>
    <title>TotalFinder on Apple Silicon (M1, M2, etc.)</title>
    <link rel="canonical" href="https://totalfinder.binaryage.com/apple-silicon"/>
    <link rel="shortcut icon" href="https://static.binaryage.com/5604bda0_favicon.ico" type="image/x-icon"/>
    <link rel="icon" href="https://static.binaryage.com/5604bda0_favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="https://static.binaryage.com/493de12c_shared_css_site.css" type="text/css"/>
    <link rel="stylesheet" href="https://static.binaryage.com/c97e55de_shared_css_github-markdown.css" type="text/css"/>
    <script src="//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"></script>
    <script>WebFont.load({google:{families:["Play:400,700:latin"]}})</script>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="google-site-verification" content="N_xzdr6ymSUQFhAEvQg7f-sp1JAeJCdW2JuaRg-da0w"/>
    <meta property="fb:admins" content="antonin.hildebrand"/>
    <link href="https://feeds.feedburner.com/binaryage-blog" type="application/atom+xml" rel="alternate" title="Ideas from BinaryAge"/>
    <script>function defer$(e){window.jQuery?e():setTimeout(function(){defer$(e)},50)}</script>
  </head>
  <body id="page-totalfinder-apple-silicon" class="site-totalfinder">
    <div id="header">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="relativize">
              <a href="//www.binaryage.com" title="BinaryAge Software">
                <div class="binaryage-logo">
                  <svg class="logo">
                    <g class="logo-badge">
                      <rect class="logo-badge-background" x="0" y="0" rx="4" ry="4" width="60" height="54"/>
                      <path class="logo-letter-b" d=" M6,47 L6,17 12,17 12,25 29,25 29,47 Z M12,42 L12,30 23,30 23,42 Z"/>
                      <path class="logo-letter-a" d=" M32,47 L32,34 49,34 49,30 32,30 32,25 54,25 54,47 Z M37,42 L37,39 49,39 49,42 Z"/>
                    </g>
                    <g class="logo-label" transform="translate(71, 22)">
                      <g class="logo-word-binary">
                        <path class="logo-label-letter-b" transform="translate(0, 0)" d=" M0,25 L0,0 5,0 5,7 20,7 20,25 Z M5,21 L5,11 15,11 15,21 Z"/>
                        <path class="logo-label-letter-i" transform="translate(22, 0)" d=" M0,25 L0,7 5,7 5,25 Z M0,3 L5,3 5,0 0,0 Z"/>
                        <path class="logo-label-letter-n" transform="translate(29, 0)" d=" M0,25 L0,7 20,7 20,25 15,25 15,11 5,11 5,25 Z"/>
                        <path class="logo-label-letter-a" transform="translate(51, 0)" d=" M0,25 L0,14 15,14 15,11 0,11 0,7 20,7 20,25 Z M5,21 L5,18 15,18 15,21 Z"/>
                        <path class="logo-label-letter-r" transform="translate(73, 0)" d=" M0,25 L0,7 20,7 20,11 5,11 5,25 Z"/>
                        <path class="logo-label-letter-y" transform="translate(95, 0)" d=" M0,25 L0,7 5,7 5,21 15,21 15,7 20,7 20,32 0,32 0,28 15,28 15,25 Z"/>
                      </g>
                      <g class="logo-word-age" transform="translate(118, 0)">
                        <path class="logo-label-letter-a" transform="translate(0, 0)" d=" M0,25 L0,14 15,14 15,11 0,11 0,7 20,7 20,25 Z M5,21 L5,18 15,18 15,21 Z"/>
                        <path class="logo-label-letter-g" transform="translate(22, 0)" d=" M0,25 L0,7 20,7 20,32 0,32 0,28 15,28 15,25 Z M5,21 L5,11 15,11 15,21 Z"/>
                        <path class="logo-label-letter-e" transform="translate(44, 0)" d=" M0,25 L0,7 20,7 20,18 5,18 5,21 20,21 20,25 Z M5,14 L5,11 15,11 15,14 Z"/>
                      </g>
                    </g>
                  </svg>
                </div>
              </a>
            </div>
            <div class="relativize">
              <ul class="header-menu menu-selected-products">
                <li class="menu-item-products"><a href="//www.binaryage.com"><i class="fa fa-star"></i><span>products</span></a></li>
                <li class="menu-item-blog"><a href="//blog.binaryage.com"><i class="fa fa-bullhorn"></i><span>blog</span></a></li>
                <li class="menu-item-support"><a href="//discuss.binaryage.com"><i class="fa fa-comments"></i><span>support</span></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="main" class="cf">
      <div class="doc-content markdown-body markdown-tweaks">
        <div class="container">
          <div class="row">
            <div class="col-md-12 doc-header">
              <p><a href="/" class="doc-back-link"><img src="https://static.binaryage.com/4029a862_shared_img_icons_totalfinder-64.png"/><span>TotalFinder homepage ↑</span></a></p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">
              <div class="sidebar">
                <div class="content-sidebar">
                  <h2>Change log</h2>
                  <ul>
                    <li><a href="/changes">Recent changes</a></li>
                    <li><a href="/beta-changes">Recent changes (pre-release)</a></li>
                  </ul>
                  <h2>Before installing</h2>
                  <ul>
                    <li><a href="/about">About TotalFinder</a></li>
                    <li><a href="/installation">Installation</a></li>
                    <li><a href="/uninstallation">Uninstallation</a></li>
                    <li><a href="/licensing">Licensing</a></li>
                    <li><a href="/purchasing">Purchasing</a></li>
                    <li><a href="/registration">Registration</a></li>
                  </ul>
                  <h2>Features</h2>
                  <ul>
                    <li><a href="/tabs">Tabs</a></li>
                    <li><a href="/dual-mode">Dual mode</a></li>
                    <li><a href="/visor">Visor</a></li>
                    <li><a href="/show-system-files">Show system files</a></li>
                    <li><a href="/colored-labels">Colored Labels</a></li>
                    <li><a href="/folders-on-top">Folders on top</a></li>
                    <li><a href="/menus">Context Menus</a></li>
                    <li><a href="/tweaks">Other Tweaks</a></li>
                  </ul>
                  <h2>More</h2>
                  <ul>
                    <li><a href="/compatibility">Compatibility</a></li>
                    <li><a href="/sip">System Integrity Protection</a></li>
                    <li><a href="/apple-silicon">Apple Silicon</a></li>
                    <li><a href="/credits">Credits</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-md-9">
              <div class="doc-page">
                <div class="header-content">
                  <h1 class="title">TotalFinder on Apple Silicon (M1, M2, etc.)</h1>
                </div>
                <div class="generic-separator"></div>
                <div class="page-content">
                  <p class="info-box compatibility">
                    While TotalFinder <i>is</i> compatible with <a href="https://en.wikipedia.org/wiki/Apple_silicon">Apple Silicon</a>, this is <a href="https://blog.binaryage.com/totalfinder-totalspaces-future/"><i>not</i> officially supported by BinaryAge</a>.<br/>
                    If you are looking for help, please kindly <a href="https://discuss.binaryage.com/t/8364">refer to the discussion thread on the BinaryAge forums</a>.
                  </p>
                  <p>The instructions below will guide you through the steps required to use TotalFinder on your Apple Silicon machine.</p>
                  <hr/>
                  <h2 id="0-checking-the-current-state-of-your-system">0. Checking the current state of your system</h2>
                  <p>Run <code class="language-plaintext highlighter-rouge">csrutil status</code> in a Terminal to verify your system’s current SIP status.</p>
                  <p>If you see the output <strong>below</strong> (SIP enabled), then begin from <strong>Part 1</strong>.</p>
                  <pre class="terminal">
System Integrity Protection status: enabled.
                  </pre>
                  <p>If you see the output <strong>below</strong> (SIP disabled), then begin from <strong>Part 3</strong>.</p>
                  <pre class="terminal">
System Integrity Protection status: disabled.
                  </pre>
                  <p>If you see the output <strong>below</strong> (SIP partially weakened), then begin from <strong>Part 3</strong>, and keep reading to find out what SIP flags TotalFinder requires you to set in recoveryOS.</p>
                  <pre class="terminal">
System Integrity Protection status: unknown (Custom Configuration).
                  </pre>
                  <hr/>
                  <h2 id="1-switching-your-apple-silicon-machine-to-reduced-security-mode">1. Switching your Apple Silicon machine to “Reduced Security” mode</h2>
                  <p class="info-box exclamation">
                    Your machine may be less secure when you disable these security features. It is entirely your decision whether or not to modify these settings.
                  </p>
                  <p>If you’ve <em>already</em> placed your Mac in “Reduced Security” mode before, simply skip this section.</p>
                  <p>※ If you use kernel extensions (kexts) on your system, you are already in “Reduced Security” mode.</p>
                  <p>① Shut down your Apple Silicon machine.<br/>
                    ② Press and hold down the power button until the text under the Apple logo says “Loading startup options…”, then let go.<br/>
                    ③ Select “Options”.<br/>
                    ④ You are now in recoveryOS — enter your password if it asks.<br/>
                    ⑤ Go to Utilities → Startup Security Utility.<br/>
                    ⑥ Select “Reduced Security” and enable “Allow user management of kernel extensions from identified developers”.<br/>
                  ⑦ Shut down your Apple Silicon machine.</p>
                  <p class="info-box compatibility">
                    ※ TotalFinder does <i>not</i> actually use any kernel extensions for any part of its functionality. The only reason why we perform this step is because it is required in order for SIP to be correctly disabled. The reason why is not yet fully understood.
                  </p>
                  <hr/>
                  <h2 id="2-disabling-sip-system-integrity-protection">2. Disabling SIP (System Integrity Protection)</h2>
                  <p class="info-box exclamation">
                    <b>IMPORTANT:</b> Disabling SIP in <i>any</i> capacity, even partially, will also disable Apple Pay, as well as iOS-on-macOS apps downloaded from the App Store (※ more on this below).<br/>
                    <br/>
                    This is a strange (and annoying) decision that Apple has recently decided to make. It used to be the case that Apple Pay would actually work fine on T2 Mac hardware with SIP disabled… but that changed with the bridgeOS update shipped with macOS 13, which backported this previously Apple Silicon exclusive behaviour to T2 Macs, too.
                  </p>
                  <p class="info-box compatibility">
                    ※ iOS-on-macOS apps that were installed through other non-App Store means, such as via sideloading, third-party tools, or your own developed apps from Xcode will continue to function normally. The <i>only</i> iOS apps that will stop working are ones encrypted with Apple's FairPlay DRM — in other words, just those downloaded from the App Store.
                  </p>
                  <p>① Follow steps 2〜4 from above.<br/>
                    ② Go to Utilities → Terminal.<br/>
                    ③ Type in the following to fully disable SIP: <code class="language-plaintext highlighter-rouge">csrutil disable</code><br/>
                  ④ Reboot your Apple Silicon machine.</p>
                  <hr/>
                  <h2 id="3-disabling-totalfinders-architecture-check">3. Disabling TotalFinder’s architecture check</h2>
                  <p>① Run the following command in a Terminal session.</p>
                  <pre class="terminal">
touch ~/.totalfinder-dontcheckarchitecture
                  </pre>
                  <p>※ If you have multiple users on your Apple Silicon machine that use TotalFinder, you will need to repeat just the <code class="language-plaintext highlighter-rouge">touch</code> command above for each user.</p>
                  <p>② Either run the following command in a Terminal session, or use Activity Monitor to force-quit <code class="language-plaintext highlighter-rouge">TotalFinder.app</code> and then open it again from <code class="language-plaintext highlighter-rouge">/Applications</code>.</p>
                  <pre class="terminal">
killall TotalFinder; open /Applications/TotalFinder.app
                  </pre>
                  <hr/>
                  <h2 id="totalfinder-should-now-be-fully-operational">TotalFinder should now be fully operational!</h2>
                  <p>Enjoy TotalFinder on your Apple Silicon machine!</p>
                  <p>(※ There may be a few on-screen dialogs from TotalFinder left for you to go through, but they should be relatively simple and straightforward.)</p>
                  <hr/>
                  <h2 id="is-there-a-way-to-only-disable-just-the-parts-of-sip-that-totalfinder-strictly-needs-i-want-my-system-to-be-as-secure-as-possible-while-still-using-totalfinder">Is there a way to only disable <em>just</em> the parts of SIP that TotalFinder strictly needs? I want my system to be as secure as possible while still using TotalFinder!</h2>
                  <p class="info-box compatibility">
                    <b>※ Note:</b> If you were directed to this page by TotalFinder from the NVRAM dialog shown on macOS 13 Ventura or above, this is the section you're looking for.<br/>
                  </p>
                  <p>TotalFinder requires that you have at <em>least</em> <code class="language-plaintext highlighter-rouge">CSR_ALLOW_TASK_FOR_PID</code> (<code class="language-plaintext highlighter-rouge">0x04</code>, <code class="language-plaintext highlighter-rouge">--without debug</code>) and <code class="language-plaintext highlighter-rouge">CSR_ALLOW_UNRESTRICTED_FS</code> (<code class="language-plaintext highlighter-rouge">0x02</code>, <code class="language-plaintext highlighter-rouge">--without fs</code>) disabled.</p>
                  <p><code class="language-plaintext highlighter-rouge">CSR_ALLOW_UNRESTRICTED_NVRAM</code> (<code class="language-plaintext highlighter-rouge">0x40</code>, <code class="language-plaintext highlighter-rouge">--without nvram</code>) is required only for Apple Silicon machines running macOS 13 Ventura or newer.</p>
                  <p>All other SIP features do not affect TotalFinder’s functionality and can be in any state you want.</p>
                  <p>You can partially disable just the SIP flags mentioned above for TotalFinder operation using one of these <code class="language-plaintext highlighter-rouge">csrutil</code> invocations in recoveryOS.</p>
                  <h3 id="apple-silicon">Apple Silicon</h3>
                  <pre class="terminal">
csrutil enable --without debug --without fs --without nvram
                  </pre>
                  <p class="info-box compatibility">
                    <b>※ Note:</b> For macOS 12 and below, <code>--without nvram</code> is not <i>actually</i> required. It's just included here for the sake of simplicity.<br/>
                  </p>
                  <!-- I know it's a little weird to include Intel/AMD in the Apple Silicon page, but this is because I kinda… link to it in the discussion thread as a general-purpose "how to partially weaken SIP" page. I'll properly fix this when I do a larger overhaul of the documentation, since right now everything is just kinda horribly disjointed, including the OTHER SIP-related page originally written by Antonin. -->
                  <h3 id="intelamd">Intel/AMD</h3>
                  <pre class="terminal">
csrutil enable --without debug --without fs
                  </pre>
                  <p><strong>※ Using unsigned or ad-hoc signed kexts?</strong> If so, you will need to add <code class="language-plaintext highlighter-rouge">--without kext</code> to your <code class="language-plaintext highlighter-rouge">csrutil</code> invocation. (<code class="language-plaintext highlighter-rouge">CSR_ALLOW_UNAPPROVED_KEXTS</code> (<code class="language-plaintext highlighter-rouge">0x200</code>))</p>
                  <p><strong>※ Do you use other software that requires SIP to be disabled?</strong> The vast majority of software that requires SIP to be disabled only really require the same two features as TotalFinder to be disabled. However, in some uncommon cases, you may have to disable additional SIP features. If something you use starts asking you to “disable SIP” after running the above <code class="language-plaintext highlighter-rouge">csrutil</code> invocation, please refer to the documentation and/or support of the software in question for more information.</p>
                  <p class="info-box compatibility">
                    <b>※ Note:</b> Please note that a partially-enabled SIP configuration is considered "unsupported" by Apple. Apple only supports an SIP-fully-disabled configuration.<br/>
                    <br/>
                    That being said, many people including myself (Karen) have been running a partially-enabled SIP configuration for many years without any issues. The choice is entirely up to you.
                  </p>
                  <hr/>
                  <h2 id="manually-enabling-arm64e-abi-support-in-macos-13-ventura-and-above">Manually enabling arm64e ABI support in macOS 13 Ventura and above</h2>
                  <p>TotalFinder supports automatically enabling arm64e ABI support for you with just one button press.</p>
                  <p>However, if you would prefer to do it manually, here are the instructions on how to do so.</p>
                  <p>① Run the following command in a Terminal session to see if you have any boot-args already set.</p>
                  <pre class="terminal">
nvram boot-args
                  </pre>
                  <p>② Run the following command to enable arm64e ABI support. Make sure that you add in your own pre-existing boot-args, if you have any set!</p>
                  <p>It will ask you for your password — it is normal to not be able to see it as you type.</p>
                  <pre class="terminal">
sudo nvram boot-args="-arm64e_preview_abi"
                  </pre>
                  <p>③ Reboot your system for the changes to take effect.</p>
                  <hr/>
                  <h2 id="how-do-i-revert-these-changes">How do I revert these changes?</h2>
                  <p>① Run the following command in a Terminal session.</p>
                  <pre class="terminal">
rm ~/.totalfinder-dontcheckarchitecture
                  </pre>
                  <p>※ If you have multiple users on your Apple Silicon machine that use TotalFinder, you will need to repeat just the <code class="language-plaintext highlighter-rouge">rm</code> command above for each user.</p>
                  <p>② Follow steps 2〜4 from <a href="#mark-1-switching-your-apple-silicon-mac-to-reduced-security-mode">the first section above</a>.</p>
                  <p>③ If you are certain that you switched your Apple Silicon machine to “Reduced Security” mode solely just for TotalFinder, go ahead and enable “Full Security” mode. This will also re-enable SIP.</p>
                  <p><strong>However,</strong> if you use (or think you use) other applications on your Mac that use kernel extensions (kexts), run the following command in a Terminal session to re-enable SIP while keeping “Reduced Security” mode.</p>
                  <pre class="terminal">
csrutil enable
                  </pre>
                  <p>④ Run <code class="language-plaintext highlighter-rouge">csrutil status</code> in a Terminal to verify that SIP has been re-enabled. The output should resemble something like what’s shown below:</p>
                  <pre class="terminal">
-bash-3.2# csrutil status
System Integrity Protection status: enabled.
                  </pre>
                  <p>⑤ Reboot your Apple Silicon machine.</p>
                  <script>defer$(function(){$(function(){$(".doc-image").wrap(function(){return $("<a class='wrapped-doc-image' data-fancybox-group='doc'></div>").attr("href",$(this).attr("src")).attr("title",$(this).attr("title"))}),$(".wrapped-doc-image").fancybox()})})</script>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <script>defer$(function(){$(function(){setTimeout(function(){var a=document.location.pathname+"";$('.sidebar a[href*="'+a+'"]').parent().addClass("selected"),$('.sidebar a[data-alt*="'+a+'"]').parent().addClass("selected")},100)})})</script>
    </div>
    <div id="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
          </div>
          <div class="col-md-4">
            <div class="footer-box-right">
              <div class="footer-copyright">
                <div class="footer-license">
                  <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0"><img title="the website license" alt="Creative Commons License" style="border-width:0" src="https://static.binaryage.com/69a4ba35_shared_img_byccnd.png"/></a>
                </div>
                <a href="https://www.binaryage.com/about">BinaryAge</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://static.binaryage.com/f2c2c0a5_shared_js_code.js"></script>
    <script type="text/javascript">window.ga=function(){}</script>
    <script>window.ga=undefined,function(e,n,a,t,i,o,c){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=n.createElement(a),c=n.getElementsByTagName(a)[0],o.async=1,o.src=t,c.parentNode.insertBefore(o,c)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-8404259-1","auto",{allowLinker:!0}),ga("send","pageview"),ga("require","linker"),ga("linker:autoLink",["fastspring.com"],!0)</script>
    <script type="text/javascript" charset="utf-8">defer$(function(){$(function(){setTimeout(function(){var i=location.hash.substring(1);"o-"==i.substring(0,2)&&$("#"+i).trigger("click")},500)})})</script>
    <script type="text/javascript" charset="utf-8">defer$(function(){$("p,pre,ul,ol,h2,h3,h4,h5,h6,.anchorable").addClass("add-anchor");var n='<svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></path> </svg>',e=function(e){for(var a=e.split(","),i=[],t=0;t<a.length;t++){var r=a[t];i.push(r+" .add-anchor")}return i.join(",")}(".page-content"),a=$(e);a.not(a.children()).each(function(){var e,a=$(this);if(e&&""!==e||(e=a.attr("id")||a.attr("title")||a.attr("src")),e&&""!==e||(e=a.text()),!e||""===e){var i=a.find(".doc-image").attr("src");if(i){var t=i.split(/[/_]/);if(0<t.length)e=t[t.length-1].replace(/[/.]/g," ")}}if(e&&""!==e){var r="mark-"+e.toLowerCase().replace(/[ _-]/g," ").replace(/^\s+/g,"").split(" ",10).join("D").replace(/\W/g,"").replace(/D+/g,"-").replace(/^-+/g,"").replace(/-+$/g,"");a.prepend('<a id="'+r+'" href="#'+r+'" class="anchor" aria-hidden="true">'+n+"</a>")}});var i=function(e){$(".highlighted-section").removeClass("highlighted-section");var a="#"+e;"#"!=a&&$(a).parent().addClass("highlighted-section")},t=function(){return window.location.hash.slice(1)};$(window).on("hashchange",function(){i(t())}),i(t())})</script>
  </body>
</html>